{"version":3,"file":"typertext.min.js","sources":["typertext.js"],"names":["Typertext","BaseException","message","code","custom","this","prototype","GetCode","GetMessage","GetCustom","Transport","GenericResponse","status","responseHeaderGetter","httpResponseCode","responseBody","headers","httpStatus","content","GetContent","GetContentType","GetHeader","name","GetHttpStatus","GetStatus","__extends","d","b","__","constructor","p","hasOwnProperty","Http","HttpException","_super","apply","arguments","HttpMethod","HttpProtocol","TransportChooser","HttpRequest","Get","request","callback","RawRequest","Post","postData","method","transport","transportInstance","Send","HttpResponse","call","HttpResponseStatus","HttpUrl","domain","protocol","path","queryString","port","isNaN","DefaultPort","indexOf","FromUrl","location","l","document","createElement","href","hostname","slice","pathname","DecodeQueryString","search","parseInt","substring","UrlDecodeString","EncodeQueryString","query","rs","UrlEncodeObject","length","data","temp","encodeURIComponent","returnValue","params","splitString","i","param","key","decodeURIComponent","input","separator","limit","chunks","split","ret","splice","push","join","ToString","GetPort","GetDomain","GetProtocol","SameOriginCheck","url","Json","JsonException","JsonRequest","jsonContentType","jsonType","_this","response","JsonResponse","fromInvalidHttpResponse","fromHttpResponse","parseSuccess","httpResponse","window","parse","e","GetParseStatus","ieTestDiv","innerHTML","getElementsByTagName","ieLte9","origin","XHR","XDR","xdr","XDomainRequest","getHeader","toLowerCase","contentType","undefined","ontimeout","onerror","responseText","onload","onprogress","open","send","Destroy","xhr","XMLHttpRequest","onreadystatechange","readyState","getResponseHeader","setRequestHeader"],"mappings":"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","sourcesContent":["var Typertext;\n(function (Typertext) {\n    var BaseException = (function () {\n        function BaseException(message, code, custom) {\n            this.message = message;\n            this.code = code;\n            this.custom = custom;\n        }\n        BaseException.prototype.GetCode = function () {\n            return this.code;\n        };\n\n        BaseException.prototype.GetMessage = function () {\n            return this.message;\n        };\n\n        BaseException.prototype.GetCustom = function () {\n            return this.custom;\n        };\n        return BaseException;\n    })();\n    Typertext.BaseException = BaseException;\n})(Typertext || (Typertext = {}));\nvar Typertext;\n(function (Typertext) {\n    (function (Transport) {\n    })(Typertext.Transport || (Typertext.Transport = {}));\n    var Transport = Typertext.Transport;\n})(Typertext || (Typertext = {}));\nvar Typertext;\n(function (Typertext) {\n    \n})(Typertext || (Typertext = {}));\nvar Typertext;\n(function (Typertext) {\n    var GenericResponse = (function () {\n        function GenericResponse(status, responseHeaderGetter, httpResponseCode, responseBody) {\n            this.status = status;\n            this.headers = responseHeaderGetter;\n            this.httpStatus = httpResponseCode;\n            this.content = responseBody;\n        }\n        GenericResponse.prototype.GetContent = function () {\n            return this.content;\n        };\n\n        GenericResponse.prototype.GetContentType = function () {\n            return this.GetHeader(\"Content-Type\");\n        };\n\n        GenericResponse.prototype.GetHeader = function (name) {\n            return this.headers(name);\n        };\n\n        GenericResponse.prototype.GetHttpStatus = function () {\n            return this.httpStatus;\n        };\n\n        GenericResponse.prototype.GetStatus = function () {\n            return this.status;\n        };\n        return GenericResponse;\n    })();\n    Typertext.GenericResponse = GenericResponse;\n})(Typertext || (Typertext = {}));\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar Typertext;\n(function (Typertext) {\n    (function (Http) {\n        var HttpException = (function (_super) {\n            __extends(HttpException, _super);\n            function HttpException() {\n                _super.apply(this, arguments);\n            }\n            return HttpException;\n        })(Typertext.BaseException);\n        Http.HttpException = HttpException;\n    })(Typertext.Http || (Typertext.Http = {}));\n    var Http = Typertext.Http;\n})(Typertext || (Typertext = {}));\nvar Typertext;\n(function (Typertext) {\n    (function (Http) {\n        (function (HttpMethod) {\n            HttpMethod[HttpMethod[\"GET\"] = 0] = \"GET\";\n            HttpMethod[HttpMethod[\"POST\"] = 1] = \"POST\";\n        })(Http.HttpMethod || (Http.HttpMethod = {}));\n        var HttpMethod = Http.HttpMethod;\n    })(Typertext.Http || (Typertext.Http = {}));\n    var Http = Typertext.Http;\n})(Typertext || (Typertext = {}));\nvar Typertext;\n(function (Typertext) {\n    (function (Http) {\n        (function (HttpProtocol) {\n            HttpProtocol[HttpProtocol[\"http\"] = 0] = \"http\";\n            HttpProtocol[HttpProtocol[\"https\"] = 1] = \"https\";\n        })(Http.HttpProtocol || (Http.HttpProtocol = {}));\n        var HttpProtocol = Http.HttpProtocol;\n    })(Typertext.Http || (Typertext.Http = {}));\n    var Http = Typertext.Http;\n})(Typertext || (Typertext = {}));\nvar Typertext;\n(function (Typertext) {\n    (function (Http) {\n        var TransportChooser = Typertext.Transport.TransportChooser;\n\n        var HttpRequest = (function () {\n            function HttpRequest() {\n            }\n            HttpRequest.prototype.Get = function (request, callback) {\n                this.RawRequest(0 /* GET */, request, {}, callback);\n            };\n\n            HttpRequest.prototype.Post = function (request, postData, callback) {\n                this.RawRequest(1 /* POST */, request, postData, callback);\n            };\n\n            HttpRequest.prototype.RawRequest = function (method, request, postData, callback, transport) {\n                if (typeof postData === \"undefined\") { postData = {}; }\n                if (!callback)\n                    callback = function (c) {\n                        return null;\n                    };\n\n                if (!transport)\n                    transport = TransportChooser.Transport(method, request, postData, callback);\n\n                var transportInstance = new transport(method, request, postData, callback);\n                transportInstance.Send();\n            };\n            return HttpRequest;\n        })();\n        Http.HttpRequest = HttpRequest;\n    })(Typertext.Http || (Typertext.Http = {}));\n    var Http = Typertext.Http;\n})(Typertext || (Typertext = {}));\nvar Typertext;\n(function (Typertext) {\n    (function (Http) {\n        var HttpResponse = (function (_super) {\n            __extends(HttpResponse, _super);\n            function HttpResponse(status, responseHeaderGetter, httpResponseCode, responseBody) {\n                _super.call(this, status, responseHeaderGetter, httpResponseCode, responseBody);\n            }\n            return HttpResponse;\n        })(Typertext.GenericResponse);\n        Http.HttpResponse = HttpResponse;\n    })(Typertext.Http || (Typertext.Http = {}));\n    var Http = Typertext.Http;\n})(Typertext || (Typertext = {}));\nvar Typertext;\n(function (Typertext) {\n    (function (Http) {\n        (function (HttpResponseStatus) {\n            HttpResponseStatus[HttpResponseStatus[\"success\"] = 0] = \"success\";\n            HttpResponseStatus[HttpResponseStatus[\"serverError\"] = 1] = \"serverError\";\n            HttpResponseStatus[HttpResponseStatus[\"clientError\"] = 2] = \"clientError\";\n            HttpResponseStatus[HttpResponseStatus[\"responseError\"] = 3] = \"responseError\";\n            HttpResponseStatus[HttpResponseStatus[\"unknownError\"] = 4] = \"unknownError\";\n            HttpResponseStatus[HttpResponseStatus[\"timeout\"] = 5] = \"timeout\";\n        })(Http.HttpResponseStatus || (Http.HttpResponseStatus = {}));\n        var HttpResponseStatus = Http.HttpResponseStatus;\n    })(Typertext.Http || (Typertext.Http = {}));\n    var Http = Typertext.Http;\n})(Typertext || (Typertext = {}));\nvar Typertext;\n(function (Typertext) {\n    (function (Http) {\n        var HttpUrl = (function () {\n            function HttpUrl(domain, protocol, path, queryString, port) {\n                if (typeof protocol === \"undefined\") { protocol = 0 /* http */; }\n                if (typeof path === \"undefined\") { path = \"/\"; }\n                if (typeof queryString === \"undefined\") { queryString = {}; }\n                if (typeof port === \"undefined\") { port = 0; }\n                if (port < 1 || port > 65535 || isNaN(port)) {\n                    port = HttpUrl.DefaultPort(protocol);\n                }\n\n                if (path.indexOf(\"/\") != 0) {\n                    path = \"/\" + path;\n                }\n\n                this.domain = domain;\n                this.protocol = protocol;\n                this.path = path;\n                this.queryString = queryString;\n                this.port = port;\n            }\n            HttpUrl.DefaultPort = function (protocol) {\n                switch (protocol) {\n                    case 0 /* http */:\n                        return 80;\n                    case 1 /* https */:\n                        return 443;\n                    default:\n                        return -1;\n                }\n            };\n\n            HttpUrl.FromUrl = function (location) {\n                var l = document.createElement(\"a\");\n                l.href = location;\n                return new HttpUrl(l.hostname, Typertext.Http.HttpProtocol[l.protocol.slice(0, -1)], l.pathname, HttpUrl.DecodeQueryString(l.search), parseInt(l.port));\n            };\n\n            HttpUrl.DecodeQueryString = function (queryString) {\n                if (queryString.indexOf(\"?\") == 0) {\n                    queryString = queryString.substring(1);\n                }\n\n                return HttpUrl.UrlDecodeString(queryString);\n            };\n\n            HttpUrl.EncodeQueryString = function (query) {\n                var rs = \"?\" + HttpUrl.UrlEncodeObject(query);\n                return ((rs.length == 1) ? \"\" : rs);\n            };\n\n            HttpUrl.UrlEncodeObject = function (data) {\n                var rs = \"\";\n                var temp;\n\n                for (temp in data) {\n                    rs += encodeURIComponent(temp) + \"=\" + encodeURIComponent(data[temp]) + \"&\";\n                }\n\n                return rs.slice(0, -1);\n            };\n\n            HttpUrl.UrlDecodeString = function (queryString) {\n                var returnValue = {}, params = HttpUrl.splitString(queryString, \"&\");\n                for (var i = 0; i < params.length; i++) {\n                    if (params[i] == \"\") {\n                        continue;\n                    }\n\n                    var param = HttpUrl.splitString(params[i], \"=\", 2);\n                    var key = decodeURIComponent(param[0]);\n                    if (param.length == 1) {\n                        returnValue[key] = \"\";\n                        continue;\n                    }\n\n                    returnValue[key] = decodeURIComponent(param[1]);\n                }\n\n                return returnValue;\n            };\n\n            HttpUrl.splitString = function (input, separator, limit) {\n                if (typeof limit === \"undefined\") { limit = -1; }\n                limit++;\n                var chunks = input.split(separator);\n                if (limit > 0 && chunks.length > limit) {\n                    var ret = chunks.splice(0, limit);\n                    ret.push(chunks.join(separator));\n                    return ret;\n                }\n                return chunks;\n            };\n\n            HttpUrl.prototype.ToString = function () {\n                return Typertext.Http.HttpProtocol[this.protocol] + \"://\" + this.domain + ((this.port == HttpUrl.DefaultPort(this.protocol)) ? \"\" : \":\" + this.port) + this.path + HttpUrl.EncodeQueryString(this.queryString);\n            };\n\n            HttpUrl.prototype.GetPort = function () {\n                return this.port;\n            };\n\n            HttpUrl.prototype.GetDomain = function () {\n                return this.domain;\n            };\n\n            HttpUrl.prototype.GetProtocol = function () {\n                return this.protocol;\n            };\n\n            HttpUrl.prototype.SameOriginCheck = function (url) {\n                return (this.domain === url.GetDomain() && this.port === url.GetPort() && this.protocol === url.GetProtocol());\n            };\n            return HttpUrl;\n        })();\n        Http.HttpUrl = HttpUrl;\n    })(Typertext.Http || (Typertext.Http = {}));\n    var Http = Typertext.Http;\n})(Typertext || (Typertext = {}));\nvar Typertext;\n(function (Typertext) {\n    (function (Json) {\n        var JsonException = (function (_super) {\n            __extends(JsonException, _super);\n            function JsonException(message, code) {\n                _super.call(this, message, code, null);\n            }\n            return JsonException;\n        })(Typertext.BaseException);\n        Json.JsonException = JsonException;\n    })(Typertext.Json || (Typertext.Json = {}));\n    var Json = Typertext.Json;\n})(Typertext || (Typertext = {}));\nvar Typertext;\n(function (Typertext) {\n    (function (Json) {\n        var HttpRequest = Typertext.Http.HttpRequest;\n\n        var HttpMethod = Typertext.Http.HttpMethod;\n\n        var JsonRequest = (function () {\n            function JsonRequest(jsonContentType) {\n                if (typeof jsonContentType === \"undefined\") { jsonContentType = \"application/json\"; }\n                this.request = new HttpRequest();\n                this.jsonType = jsonContentType;\n            }\n            JsonRequest.prototype.Get = function (request, callback) {\n                this.RawRequest(0 /* GET */, request, {}, callback);\n            };\n\n            JsonRequest.prototype.Post = function (request, postData, callback) {\n                this.RawRequest(1 /* POST */, request, postData, callback);\n            };\n\n            JsonRequest.prototype.RawRequest = function (method, request, postData, callback, transport) {\n                var _this = this;\n                if (typeof postData === \"undefined\") { postData = {}; }\n                if (typeof callback != \"function\") {\n                    this.request.RawRequest(method, request, postData, function () {\n                    });\n                    return;\n                }\n\n                this.request.RawRequest(method, request, postData, function (response) {\n                    if (response.GetContentType() != _this.jsonType) {\n                        callback(Typertext.Json.JsonResponse.fromInvalidHttpResponse(response));\n                        return;\n                    }\n\n                    callback(Typertext.Json.JsonResponse.fromHttpResponse(response));\n                }, transport);\n            };\n            return JsonRequest;\n        })();\n        Json.JsonRequest = JsonRequest;\n    })(Typertext.Json || (Typertext.Json = {}));\n    var Json = Typertext.Json;\n})(Typertext || (Typertext = {}));\nvar Typertext;\n(function (Typertext) {\n    (function (Json) {\n        var HttpResponseStatus = Typertext.Http.HttpResponseStatus;\n\n        var JsonResponse = (function (_super) {\n            __extends(JsonResponse, _super);\n            function JsonResponse(status, responseHeaderGetter, httpResponseCode, responseBody, parseSuccess) {\n                _super.call(this, status, responseHeaderGetter, httpResponseCode, responseBody);\n                parseSuccess = !!parseSuccess || false;\n                this.parseSuccess = parseSuccess;\n            }\n            JsonResponse.fromHttpResponse = function (httpResponse) {\n                try  {\n                    return new JsonResponse(httpResponse.GetStatus(), httpResponse.GetHeader, httpResponse.GetHttpStatus(), window[\"JSON\"].parse(httpResponse.GetContent()), true);\n                } catch (e) {\n                    return new JsonResponse(httpResponse.GetStatus(), httpResponse.GetHeader, httpResponse.GetHttpStatus(), null);\n                }\n            };\n\n            JsonResponse.fromInvalidHttpResponse = function (httpResponse) {\n                return new JsonResponse(3 /* responseError */, httpResponse.GetHeader, httpResponse.GetHttpStatus());\n            };\n\n            JsonResponse.prototype.GetParseStatus = function () {\n                return this.parseSuccess;\n            };\n            return JsonResponse;\n        })(Typertext.GenericResponse);\n        Json.JsonResponse = JsonResponse;\n    })(Typertext.Json || (Typertext.Json = {}));\n    var Json = Typertext.Json;\n})(Typertext || (Typertext = {}));\nvar Typertext;\n(function (Typertext) {\n    (function (Transport) {\n        var HttpUrl = Typertext.Http.HttpUrl;\n\n        var TransportChooser = (function () {\n            function TransportChooser() {\n            }\n            TransportChooser.Transport = function (method, request, postData, callback) {\n                var ieTestDiv = document.createElement(\"div\");\n                ieTestDiv.innerHTML = \"<!--[if lte IE 7]><i></i><![endif]-->\";\n\n                if (ieTestDiv.getElementsByTagName(\"i\").length === 1) {\n                    throw {};\n                }\n\n                ieTestDiv.innerHTML = \"<!--[if lte IE 9]><i></i><![endif]-->\";\n                var ieLte9 = (ieTestDiv.getElementsByTagName(\"i\").length === 1);\n                var origin = HttpUrl.FromUrl(window.location.href);\n\n                if (origin.SameOriginCheck(origin) || !ieLte9) {\n                    return Typertext.Transport.XHR;\n                }\n\n                if (origin.GetProtocol() === request.GetProtocol()) {\n                    return Typertext.Transport.XDR;\n                }\n\n                throw {};\n            };\n            return TransportChooser;\n        })();\n        Transport.TransportChooser = TransportChooser;\n    })(Typertext.Transport || (Typertext.Transport = {}));\n    var Transport = Typertext.Transport;\n})(Typertext || (Typertext = {}));\nvar Typertext;\n(function (Typertext) {\n    (function (Transport) {\n        var HttpMethod = Typertext.Http.HttpMethod;\n        var HttpUrl = Typertext.Http.HttpUrl;\n\n        var HttpResponseStatus = Typertext.Http.HttpResponseStatus;\n        var HttpResponse = Typertext.Http.HttpResponse;\n\n        var XDR = (function () {\n            function XDR(method, request, postData, callback) {\n                if (typeof postData === \"undefined\") { postData = {}; }\n                if (typeof callback === \"undefined\") { callback = function (c) {\n                    return null;\n                }; }\n                this.postData = postData;\n                this.method = method;\n                this.request = request;\n                this.callback = callback;\n\n                this.xdr = new XDomainRequest();\n            }\n            XDR.prototype.Send = function () {\n                var _this = this;\n                var getHeader = function (name) {\n                    if (name.toLowerCase() === \"content-type\") {\n                        return _this.xdr.contentType;\n                    }\n                    return undefined;\n                };\n\n                this.xdr.ontimeout = function () {\n                    _this.callback(new HttpResponse(5 /* timeout */, function (i) {\n                        return \"\";\n                    }, -1, \"\"));\n                };\n\n                this.xdr.onerror = function () {\n                    _this.callback(new HttpResponse(4 /* unknownError */, getHeader, -1, _this.xdr.responseText));\n                };\n\n                this.xdr.onload = function () {\n                    _this.callback(new HttpResponse(0 /* success */, getHeader, 200, _this.xdr.responseText));\n                };\n\n                this.xdr.onprogress = function () {\n                    return null;\n                };\n\n                this.xdr.open(HttpMethod[this.method], this.request.ToString());\n\n                if (this.method == 0 /* GET */) {\n                    this.xdr.send();\n                    return;\n                }\n\n                this.xdr.send(HttpUrl.UrlEncodeObject(this.postData));\n            };\n\n            XDR.prototype.Destroy = function () {\n                this.xdr.ontimeout = this.xdr.onerror = this.xdr.onload = this.xdr.onprogress = null;\n                this.xdr = null;\n            };\n            return XDR;\n        })();\n        Transport.XDR = XDR;\n    })(Typertext.Transport || (Typertext.Transport = {}));\n    var Transport = Typertext.Transport;\n})(Typertext || (Typertext = {}));\nvar Typertext;\n(function (Typertext) {\n    (function (Transport) {\n        var HttpMethod = Typertext.Http.HttpMethod;\n        var HttpUrl = Typertext.Http.HttpUrl;\n\n        var HttpResponseStatus = Typertext.Http.HttpResponseStatus;\n        var HttpResponse = Typertext.Http.HttpResponse;\n\n        var XHR = (function () {\n            function XHR(method, request, postData, callback) {\n                if (typeof postData === \"undefined\") { postData = {}; }\n                if (typeof callback === \"undefined\") { callback = function (c) {\n                    return null;\n                }; }\n                var _this = this;\n                this.postData = postData;\n                this.method = method;\n                this.request = request;\n                this.callback = callback;\n\n                this.xhr = new XMLHttpRequest();\n\n                this.xhr.onreadystatechange = function () {\n                    if (_this.xhr.readyState == 4) {\n                        var getHeader = function (name) {\n                            return _this.xhr.getResponseHeader(name);\n                        };\n\n                        if (_this.xhr.status == 200) {\n                            _this.callback(new HttpResponse(0 /* success */, getHeader, _this.xhr.status, _this.xhr.responseText));\n                        } else if (_this.xhr.status >= 400 && _this.xhr.status < 500) {\n                            _this.callback(new HttpResponse(2 /* clientError */, getHeader, _this.xhr.status, _this.xhr.responseText));\n                        } else if (_this.xhr.status >= 500 && _this.xhr.status < 600) {\n                            _this.callback(new HttpResponse(1 /* serverError */, getHeader, _this.xhr.status, _this.xhr.responseText));\n                        } else {\n                            _this.callback(new HttpResponse(4 /* unknownError */, getHeader, _this.xhr.status, _this.xhr.responseText));\n                        }\n                    }\n                };\n\n                this.xhr.ontimeout = function () {\n                    _this.callback(new HttpResponse(5 /* timeout */, function (i) {\n                        return \"\";\n                    }, -1, \"\"));\n                };\n            }\n            XHR.prototype.Send = function () {\n                this.xhr.open(HttpMethod[this.method], this.request.ToString(), true);\n\n                if (this.method == 0 /* GET */) {\n                    this.xhr.send();\n                    return;\n                }\n\n                this.xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\n                this.xhr.send(HttpUrl.UrlEncodeObject(this.postData));\n            };\n\n            XHR.prototype.Destroy = function () {\n                this.xhr.onreadystatechange = this.xhr.ontimeout = null;\n                this.xhr = null;\n            };\n            return XHR;\n        })();\n        Transport.XHR = XHR;\n    })(Typertext.Transport || (Typertext.Transport = {}));\n    var Transport = Typertext.Transport;\n})(Typertext || (Typertext = {}));\n//# sourceMappingURL=typertext.js.map\n"]}